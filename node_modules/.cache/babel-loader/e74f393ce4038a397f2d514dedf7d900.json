{"ast":null,"code":"var _jsxFileName = \"D:\\\\Speed Tech\\\\Ofer\\\\Recat\\\\react-app\\\\src\\\\tods_comps\\\\toDoItem.js\";\nimport React, { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport \"../css_comps/todos.css\";\nimport { doApiGet, doApiPost } from '../services/apiService';\n\nfunction ToDoItem(props) {\n  let userInput = useRef(null);\n  let items = props.cardTodo.items;\n  let dispatch = useDispatch();\n\n  const addTask = async () => {\n    if (userInput.current.value === \"\") {\n      alert(\"Please item name\");\n    } else {\n      let url = `http://localhost:3000/todos/${props.cardTodo._id}/addItem/`;\n      let body = {\n        item_name: userInput.current.value\n      };\n      doApiPost(url, body).then(() => {\n        props.todosList();\n      });\n      userInput.current.value = \"\";\n    }\n  };\n\n  const checkedItem = (_val, _itemIndex) => {\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/updateStatus/${props.cardTodo.items[_itemIndex]._id}`;\n    let body = {\n      completed: !_val\n    };\n    doApiPost(url, body).then(() => {\n      props.todosList();\n    });\n  };\n\n  const deleteItem = _itemIndex => {\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/deleteItem/${props.cardTodo.items[_itemIndex]._id}`;\n    doApiPost(url).then(() => {\n      props.todosList();\n    });\n  };\n\n  const deleteTodoCard = () => {\n    let url = `http://localhost:3000/todos/deleteTodo/${props.cardTodo._id}`;\n    doApiPost(url).then(() => {\n      props.todosList();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, props.cardTodo.todo_name), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: deleteTodoCard,\n    className: \"delTodoCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"X\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center justify-content-center inputItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: userInput,\n    type: \"text\",\n    className: \"form-control  border border-info \",\n    placeholder: \"I have to...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addTask,\n    className: \"btn btn-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Add\")), items.map((val, itemIndex) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: itemIndex,\n      className: \"d-flex justify-content-between align-items-center p-2 mt-1 items \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: val.id,\n      type: \"checkbox\",\n      name: \"isDone\",\n      onChange: () => {\n        checkedItem(val.completed, itemIndex);\n      },\n      className: \"mr-1\",\n      checked: val.completed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: val.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, val.item_name)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, val.created_at), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        deleteItem(itemIndex);\n      },\n      className: \"btn btn-secondary text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, \"X\"));\n  }));\n}\n\nexport default ToDoItem;","map":{"version":3,"sources":["D:/Speed Tech/Ofer/Recat/react-app/src/tods_comps/toDoItem.js"],"names":["React","useRef","useDispatch","doApiGet","doApiPost","ToDoItem","props","userInput","items","cardTodo","dispatch","addTask","current","value","alert","url","_id","body","item_name","then","todosList","checkedItem","_val","_itemIndex","completed","deleteItem","deleteTodoCard","todo_name","map","val","itemIndex","id","created_at"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport \"../css_comps/todos.css\"\r\nimport { doApiGet, doApiPost } from '../services/apiService';\r\nfunction ToDoItem(props) {\r\n\r\n  let userInput = useRef(null);\r\n  let items = props.cardTodo.items\r\n  let dispatch = useDispatch();\r\n\r\n  const addTask = async () => {\r\n    if (userInput.current.value === \"\") {\r\n      alert(\"Please item name\");\r\n    }\r\n    else {\r\n      let url = `http://localhost:3000/todos/${props.cardTodo._id}/addItem/`\r\n      let body = {\r\n        item_name: userInput.current.value\r\n      }\r\n\r\n      doApiPost(url, body)\r\n        .then(() => {\r\n         \r\n          props.todosList();\r\n        })\r\n      userInput.current.value = \"\";\r\n\r\n    }\r\n  }\r\n\r\n  const checkedItem = (_val, _itemIndex) => {\r\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/updateStatus/${props.cardTodo.items[_itemIndex]._id}`;\r\n    let body = {\r\n      completed: !_val\r\n    }\r\n    doApiPost(url, body)\r\n      .then(()=> {\r\n        \r\n        props.todosList();\r\n\r\n      })\r\n\r\n  }\r\n\r\n  const deleteItem = (_itemIndex) => {\r\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/deleteItem/${props.cardTodo.items[_itemIndex]._id}`;\r\n    doApiPost(url)\r\n      .then(() => {\r\n        \r\n        props.todosList();\r\n\r\n      })\r\n  }\r\n\r\n  const deleteTodoCard = () => {\r\n    let url = `http://localhost:3000/todos/deleteTodo/${props.cardTodo._id}`;\r\n\r\n    doApiPost(url)\r\n      .then(() => {\r\n        props.todosList();\r\n\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-2 \">\r\n      <div className=\"d-flex justify-content-between align-items-center\">\r\n        <h1 className=\"display-4 text-center\" >{props.cardTodo.todo_name}</h1>\r\n        <span onClick={deleteTodoCard} className=\"delTodoCard\">X</span>\r\n      </div>\r\n\r\n      <div className=\"d-flex align-items-center justify-content-center inputItem\">\r\n        <input ref={userInput} type=\"text\" className=\"form-control  border border-info \" placeholder=\"I have to...\" />\r\n        <button onClick={addTask} className=\"btn btn-info\">Add</button>\r\n      </div>\r\n      {items.map((val, itemIndex) => {\r\n        return (\r\n          <div key={itemIndex} className=\"d-flex justify-content-between align-items-center p-2 mt-1 items \">\r\n            <div>\r\n              <input id={val.id} type=\"checkbox\" name=\"isDone\" onChange={() => {\r\n                checkedItem(val.completed, itemIndex)\r\n              }} className=\"mr-1\" checked={val.completed} />\r\n              <label htmlFor={val.id}>{val.item_name}</label>\r\n            </div>\r\n            <div>{val.created_at}</div>\r\n            <button onClick={() => { deleteItem(itemIndex) }} className=\"btn btn-secondary text-danger\">X</button>\r\n          </div>)\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ToDoItem\r\n\r\n"]},"metadata":{},"sourceType":"module"}