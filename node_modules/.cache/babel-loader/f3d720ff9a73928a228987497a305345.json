{"ast":null,"code":"import React,{useRef}from'react';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import\"../css_comps/todos.css\";import{doApiGet,doApiPost}from'../services/apiService';function TodoTitle(props){var todoName=useRef(null);var history=useHistory();var dispatch=useDispatch();var addTodo=function addTodo(){if(todoName.current.value===\"\"){alert(\"Please enter todo name\");}else{// let url = `http://localhost:3000/todos/createTodo`;\nvar url=\"https://ls-task-todos.herokuapp.com/todos/createTodo\";var body={todo_name:todoName.current.value};doApiPost(url,body).then(function(data){var url=\"https://ls-task-todos.herokuapp.com/todos\";doApiGet(url).then(function(data){console.log(\"data for DB\",data);dispatch({type:\"updateList\",data:data});todoName.current.value=\"\";history.push(\"/\");});});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container text-center\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-4 text-info mt-5\"},\"Named your todo note title\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center mt-4 todoTitle\"},/*#__PURE__*/React.createElement(\"input\",{ref:todoName,type:\"text\",className:\"form-control w-50 p-4 border border-info todoTitle\",placeholder:\"Please enter todo name...\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:addTodo,className:\"btn-lg btn-primary\"},\"Apply\")));}export default TodoTitle;","map":{"version":3,"sources":["D:/Speed Tech/Ofer/Recat/react-app/src/tods_comps/todoTitle.js"],"names":["React","useRef","useDispatch","useHistory","doApiGet","doApiPost","TodoTitle","props","todoName","history","dispatch","addTodo","current","value","alert","url","body","todo_name","then","data","console","log","type","push"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,wBAAP,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,wBAApC,CACA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CAExB,GAAIC,CAAAA,QAAQ,CAAGP,MAAM,CAAC,IAAD,CAArB,CACA,GAAIQ,CAAAA,OAAO,CAAGN,UAAU,EAAxB,CACA,GAAIO,CAAAA,QAAQ,CAAGR,WAAW,EAA1B,CAEA,GAAMS,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAIH,QAAQ,CAACI,OAAT,CAAiBC,KAAjB,GAA2B,EAA/B,CAAmC,CACjCC,KAAK,CAAC,wBAAD,CAAL,CACD,CAFD,IAGK,CACH;AACA,GAAIC,CAAAA,GAAG,uDAAP,CACA,GAAIC,CAAAA,IAAI,CAAG,CACTC,SAAS,CAAET,QAAQ,CAACI,OAAT,CAAiBC,KADnB,CAAX,CAIAR,SAAS,CAACU,GAAD,CAAMC,IAAN,CAAT,CACGE,IADH,CACQ,SAAAC,IAAI,CAAI,CACZ,GAAIJ,CAAAA,GAAG,CAAG,2CAAV,CACAX,QAAQ,CAACW,GAAD,CAAR,CACGG,IADH,CACQ,SAAAC,IAAI,CAAI,CACZC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,IAA3B,EACAT,QAAQ,CAAC,CAAEY,IAAI,CAAE,YAAR,CAAsBH,IAAI,CAAEA,IAA5B,CAAD,CAAR,CACAX,QAAQ,CAACI,OAAT,CAAiBC,KAAjB,CAAyB,EAAzB,CACAJ,OAAO,CAACc,IAAR,CAAa,GAAb,EACD,CANH,EAOD,CAVH,EAWD,CACF,CAvBD,CAyBA,mBACE,2BAAK,SAAS,CAAC,uBAAf,eACE,0BAAI,SAAS,CAAC,0BAAd,+BADF,cAEE,2BAAK,SAAS,CAAC,iEAAf,eACE,6BAAO,GAAG,CAAEf,QAAZ,CAAsB,IAAI,CAAC,MAA3B,CAAkC,SAAS,CAAC,oDAA5C,CAAiG,WAAW,CAAC,2BAA7G,EADF,cAEE,8BAAQ,OAAO,CAAEG,OAAjB,CAA0B,SAAS,CAAC,oBAApC,UAFF,CAFF,CADF,CASD,CAED,cAAeL,CAAAA,SAAf","sourcesContent":["import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport \"../css_comps/todos.css\";\r\nimport { doApiGet, doApiPost } from '../services/apiService';\r\nfunction TodoTitle(props) {\r\n\r\n  let todoName = useRef(null);\r\n  let history = useHistory();\r\n  let dispatch = useDispatch()\r\n\r\n  const addTodo = () => {\r\n    if (todoName.current.value === \"\") {\r\n      alert(\"Please enter todo name\");\r\n    }\r\n    else {\r\n      // let url = `http://localhost:3000/todos/createTodo`;\r\n      let url = `https://ls-task-todos.herokuapp.com/todos/createTodo`;\r\n      let body = {\r\n        todo_name: todoName.current.value\r\n\r\n      }\r\n      doApiPost(url, body)\r\n        .then(data => {\r\n          let url = \"https://ls-task-todos.herokuapp.com/todos\";\r\n          doApiGet(url)\r\n            .then(data => {\r\n              console.log(\"data for DB\", data);\r\n              dispatch({ type: \"updateList\", data: data })\r\n              todoName.current.value = \"\";\r\n              history.push(\"/\");\r\n            });\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container text-center\">\r\n      <h1 className=\"display-4 text-info mt-5\" >Named your todo note title</h1>\r\n      <div className=\"d-flex align-items-center justify-content-center mt-4 todoTitle\">\r\n        <input ref={todoName} type=\"text\" className=\"form-control w-50 p-4 border border-info todoTitle\" placeholder=\"Please enter todo name...\" />\r\n        <button onClick={addTodo} className=\"btn-lg btn-primary\">Apply</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TodoTitle\r\n"]},"metadata":{},"sourceType":"module"}