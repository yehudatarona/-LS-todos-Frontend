{"ast":null,"code":"var _jsxFileName = \"D:\\\\Speed Tech\\\\Ofer\\\\Recat\\\\react-app\\\\src\\\\tods_comps\\\\toDoItem.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport \"../css_comps/todos.css\";\nimport Moment from 'moment';\nimport { doApiGet, doApiPost } from '../services/apiService';\n\nfunction ToDoItem(props) {\n  let userInput = useRef(null);\n  let dateFormat = Moment(new Date()).format('DD/MM/YYYY');\n  let [items, setItem] = useState(props.item.items);\n  let dispatch = useDispatch();\n\n  const addTask = async () => {\n    let url = `http://localhost:3000/todos/${props.item._id}/addItem/`;\n    let body = {\n      item_name: userInput.current.value\n    };\n    doApiPost(url, body).then(() => {\n      let url = \"http://localhost:3000/todos\";\n      doApiGet(url).then(data => {\n        console.log(\"data for DB\", data);\n        dispatch({\n          type: \"updateList\",\n          data: data\n        });\n      });\n    });\n    userInput.current.value = \"\"; // if (userInput.current.value === \"\") {\n    //   alert(\"Please item name\");\n    // }\n    // else {\n    //   let tempItem = {\n    //     indexCard: props.indexCard,\n    //     id: Math.random((300 * 39) * 10).toFixed(2),\n    //     item_name: userInput.\n    //     indexcurrent.value,\n    //     created_at: dateFormat,\n    //     completed: false\n    //   }\n    //   dispatch({ type:\"addItem\", ItemBody: tempItem })\n    //   console.log(\"items123->\", items);\n    //   userInput.current.value = \"\";\n    // }\n  };\n\n  const checkedItem = val => {\n    items[val].completed = !items[val].completed;\n    let obj = {\n      item: items,\n      indexCard: props.indexCard\n    };\n    dispatch({\n      type: \"changeCompleted\",\n      itemChack: obj\n    });\n  };\n\n  const delTask = itemId => {\n    let url = `http://localhost:3000/todos/${props.item._id}/deleteItem/${items._id}`;\n    doApiPost().then(data => {\n      let obj = {\n        itemId: items._id,\n        indexCard: props.item._id\n      };\n      dispatch({\n        type: \"delTask\",\n        itemDelete: obj\n      });\n    }); // let obj = {\n    //   itemId: itemId,\n    //   indexCard: props.indexCard\n    // }\n    // dispatch({ type: \"delTask\", itemDelete: obj })\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 text-center text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, props.item.todo_name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center justify-content-center inputItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: userInput,\n    type: \"text\",\n    className: \"form-control  border border-info \",\n    placeholder: \"I have to...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addTask,\n    className: \"btn btn-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Add\")), items.map((val, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: \"d-flex justify-content-between align-items-center p-2 mt-1 items \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: val.id,\n      type: \"checkbox\",\n      name: \"isDone\",\n      onClick: () => {\n        checkedItem(i);\n      },\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: val.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, val.item_name)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, val.created_at), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        delTask(i);\n      },\n      className: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, \"X\"));\n  }));\n}\n\nexport default ToDoItem;","map":{"version":3,"sources":["D:/Speed Tech/Ofer/Recat/react-app/src/tods_comps/toDoItem.js"],"names":["React","useEffect","useRef","useState","useDispatch","Moment","doApiGet","doApiPost","ToDoItem","props","userInput","dateFormat","Date","format","items","setItem","item","dispatch","addTask","url","_id","body","item_name","current","value","then","data","console","log","type","checkedItem","val","completed","obj","indexCard","itemChack","delTask","itemId","itemDelete","todo_name","map","i","id","created_at"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport \"../css_comps/todos.css\"\r\nimport Moment from 'moment';\r\nimport { doApiGet, doApiPost } from '../services/apiService';\r\nfunction ToDoItem(props) {\r\n  let userInput = useRef(null);\r\n  let dateFormat = Moment(new Date()).format('DD/MM/YYYY');\r\n  let [items, setItem] = useState(props.item.items)\r\n\r\n  let dispatch = useDispatch();\r\n  const addTask = async() => {\r\n\r\n    let url=`http://localhost:3000/todos/${props.item._id}/addItem/`\r\n    let body={\r\n      item_name: userInput.current.value\r\n  }\r\n\r\n    doApiPost(url,body)\r\n    .then(()=>{\r\n      let url = \"http://localhost:3000/todos\";\r\n      doApiGet(url)\r\n        .then(data => {\r\n          console.log(\"data for DB\", data);\r\n          dispatch({ type: \"updateList\", data: data })\r\n        });\r\n    })\r\n    userInput.current.value = \"\";\r\n\r\n\r\n    // if (userInput.current.value === \"\") {\r\n    //   alert(\"Please item name\");\r\n\r\n    // }\r\n    // else {\r\n    //   let tempItem = {\r\n    //     indexCard: props.indexCard,\r\n    //     id: Math.random((300 * 39) * 10).toFixed(2),\r\n    //     item_name: userInput.\r\n    //     indexcurrent.value,\r\n    //     created_at: dateFormat,\r\n    //     completed: false\r\n    //   }\r\n\r\n    //   dispatch({ type:\"addItem\", ItemBody: tempItem })\r\n    //   console.log(\"items123->\", items);\r\n    //   userInput.current.value = \"\";\r\n    // }\r\n  }\r\n\r\n  const checkedItem = (val) => {\r\n    items[val].completed = !items[val].completed;\r\n    let obj = {\r\n      item: items,\r\n      indexCard: props.indexCard\r\n    }\r\n    dispatch({ type: \"changeCompleted\", itemChack: obj })\r\n\r\n  }\r\n\r\n\r\n  const delTask = (itemId) => {\r\n    let url=`http://localhost:3000/todos/${props.item._id}/deleteItem/${items._id}`\r\n    doApiPost()\r\n    .then(data=>{\r\n      let obj = {\r\n        itemId: items._id,\r\n        indexCard: props.item._id\r\n      }\r\n      dispatch({ type: \"delTask\", itemDelete: obj })\r\n    })\r\n\r\n    \r\n    // let obj = {\r\n    //   itemId: itemId,\r\n    //   indexCard: props.indexCard\r\n    // }\r\n    // dispatch({ type: \"delTask\", itemDelete: obj })\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-2 \">\r\n      <h1 className=\"display-4 text-center text-white\" >{props.item.todo_name}</h1>\r\n      <div className=\"d-flex align-items-center justify-content-center inputItem\">\r\n        <input ref={userInput} type=\"text\" className=\"form-control  border border-info \" placeholder=\"I have to...\" />\r\n        <button onClick={addTask} className=\"btn btn-info\">Add</button>\r\n      </div>\r\n      {items.map((val, i) => {\r\n        return (\r\n          <div key={i} className=\"d-flex justify-content-between align-items-center p-2 mt-1 items \">\r\n            <div>\r\n              <input id={val.id} type=\"checkbox\" name=\"isDone\" onClick={() => {\r\n                checkedItem(i)\r\n              }} className=\"mr-1\" />\r\n              <label htmlFor={val.id}>{val.item_name}</label>\r\n            </div>\r\n            <div>{val.created_at}</div>\r\n            <button onClick={() => { delTask(i) }} className=\"btn btn-danger\">X</button>\r\n           \r\n          </div>)\r\n\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ToDoItem\r\n\r\n"]},"metadata":{},"sourceType":"module"}