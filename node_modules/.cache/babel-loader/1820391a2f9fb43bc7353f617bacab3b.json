{"ast":null,"code":"var _jsxFileName = \"D:\\\\Speed Tech\\\\Ofer\\\\Recat\\\\react-app\\\\src\\\\tods_comps\\\\toDoItem.js\";\nimport React, { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport \"../css_comps/todos.css\";\nimport { doApiGet, doApiPost } from '../services/apiService';\n\nfunction ToDoItem(props) {\n  let userInput = useRef(null);\n  let items = props.cardTodo.items;\n  let dispatch = useDispatch();\n\n  const addTask = async () => {\n    if (userInput.current.value === \"\") {\n      alert(\"Please item name\");\n    } else {\n      let url = `http://localhost:3000/todos/${props.cardTodo._id}/addItem/`;\n      let body = {\n        item_name: userInput.current.value\n      };\n      doApiPost(url, body).then(() => {\n        let url = \"http://localhost:3000/todos\";\n        doApiGet(url).then(data => {\n          console.log(\"data for DB\", data);\n          dispatch({\n            type: \"updateList\",\n            data: data\n          });\n        });\n      });\n      userInput.current.value = \"\";\n    }\n  };\n\n  const checkedItem = (_val, _itemIndex) => {\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/updateStatus/${props.cardTodo.items[_itemIndex]._id}`;\n    let body = {\n      completed: !_val\n    };\n    doApiPost(url, body).then(data => {\n      let url = \"http://localhost:3000/todos\";\n      doApiGet(url).then(data => {\n        console.log(\"data for DB\", data);\n        dispatch({\n          type: \"updateList\",\n          data: data\n        });\n      });\n    });\n  };\n\n  const deleteItem = _itemIndex => {\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/deleteItem/${props.cardTodo.items[_itemIndex]._id}`;\n    doApiPost(url).then(data => {\n      console.log(data);\n      let url = \"http://localhost:3000/todos\";\n      doApiGet(url).then(data => {\n        console.log(\"data for DB\", data);\n        dispatch({\n          type: \"updateList\",\n          data: data\n        });\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 text-center text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, props.cardTodo.todo_name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center justify-content-center inputItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: userInput,\n    type: \"text\",\n    className: \"form-control  border border-info \",\n    placeholder: \"I have to...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addTask,\n    className: \"btn btn-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Add\")), items.map((val, itemIndex) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: itemIndex,\n      className: \"d-flex justify-content-between align-items-center p-2 mt-1 items \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: val.id,\n      type: \"checkbox\",\n      name: \"isDone\",\n      onClick: () => {\n        checkedItem(val.completed, itemIndex);\n      },\n      className: \"mr-1\",\n      checked: val.completed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: val.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, val.item_name)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, val.created_at), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        deleteItem(itemIndex);\n      },\n      className: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, \"X\"));\n  }));\n}\n\nexport default ToDoItem;","map":{"version":3,"sources":["D:/Speed Tech/Ofer/Recat/react-app/src/tods_comps/toDoItem.js"],"names":["React","useRef","useDispatch","doApiGet","doApiPost","ToDoItem","props","userInput","items","cardTodo","dispatch","addTask","current","value","alert","url","_id","body","item_name","then","data","console","log","type","checkedItem","_val","_itemIndex","completed","deleteItem","todo_name","map","val","itemIndex","id","created_at"],"mappings":"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","sourcesContent":["import React, {useRef} from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport \"../css_comps/todos.css\"\r\nimport { doApiGet, doApiPost } from '../services/apiService';\r\nfunction ToDoItem(props) {\r\n  let userInput = useRef(null);\r\n  let items = props.cardTodo.items\r\n\r\n\r\n  let dispatch = useDispatch();\r\n\r\n  const addTask = async () => {\r\n    if (userInput.current.value === \"\") {\r\n      alert(\"Please item name\");\r\n    }\r\n    else {\r\n      let url = `http://localhost:3000/todos/${props.cardTodo._id}/addItem/`\r\n      let body = {\r\n        item_name: userInput.current.value\r\n      }\r\n\r\n      doApiPost(url, body)\r\n        .then(() => {\r\n          let url = \"http://localhost:3000/todos\";\r\n          doApiGet(url)\r\n            .then(data => {\r\n              console.log(\"data for DB\", data);\r\n              dispatch({ type: \"updateList\", data: data })\r\n            });\r\n        })\r\n      userInput.current.value = \"\";\r\n\r\n    }\r\n  }\r\n\r\n  const checkedItem = (_val, _itemIndex) => {\r\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/updateStatus/${props.cardTodo.items[_itemIndex]._id}`;\r\n    let body = {\r\n      completed: !_val\r\n    }\r\n    doApiPost(url, body)\r\n      .then(data => {\r\n        let url = \"http://localhost:3000/todos\";\r\n        doApiGet(url)\r\n          .then(data => {\r\n            console.log(\"data for DB\", data);\r\n            dispatch({ type: \"updateList\", data: data })\r\n          });\r\n\r\n      })\r\n\r\n  }\r\n\r\n  const deleteItem = (_itemIndex) => {\r\n    let url = `http://localhost:3000/todos/${props.cardTodo._id}/deleteItem/${props.cardTodo.items[_itemIndex]._id}`;\r\n    doApiPost(url)\r\n      .then(data => {\r\n        console.log(data);\r\n        let url = \"http://localhost:3000/todos\";\r\n        doApiGet(url)\r\n          .then(data => {\r\n            console.log(\"data for DB\", data);\r\n            dispatch({ type: \"updateList\", data: data })\r\n          });\r\n\r\n      })\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"p-2 \">\r\n      <h1 className=\"display-4 text-center text-white\" >{props.cardTodo.todo_name}</h1>\r\n      <div className=\"d-flex align-items-center justify-content-center inputItem\">\r\n        <input ref={userInput} type=\"text\" className=\"form-control  border border-info \" placeholder=\"I have to...\" />\r\n        <button onClick={addTask} className=\"btn btn-info\">Add</button>\r\n      </div>\r\n      {items.map((val, itemIndex) => {\r\n        return (\r\n          <div key={itemIndex} className=\"d-flex justify-content-between align-items-center p-2 mt-1 items \">\r\n            <div>\r\n              <input id={val.id} type=\"checkbox\" name=\"isDone\" onClick={() => {\r\n                checkedItem(val.completed, itemIndex)\r\n              }} className=\"mr-1\" checked={val.completed} />\r\n              <label htmlFor={val.id}>{val.item_name}</label>\r\n            </div>\r\n            <div>{val.created_at}</div>\r\n            <button onClick={() => { deleteItem(itemIndex) }} className=\"btn btn-danger\">X</button>\r\n            {/* <button onClick={() => { delTask(i) }} className=\"btn btn-danger\">X</button> */}\r\n\r\n          </div>)\r\n\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ToDoItem\r\n\r\n"]},"metadata":{},"sourceType":"module"}